<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Learn Migration!</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="css/main.css" rel="stylesheet">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">

    <meta charset="utf-8" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <!--		<meta name="viewport" content="width=device-width, initial-scale=1.0" />-->
    <title> Global migration map </title>
    <link rel="stylesheet" href="css/style.css">
    <meta name="author" content="Doenz Jonathan, Hrusanov Aleksandar, Yörüsün Asli">

    <!-- Custom Fonts -->
    <!-- <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- jquery and bootstrap (jquery must be imported before bootstrap) Do Not change these scripts places-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!--add favicon-->
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top topnav" role="navigation">
        <div class="container topnav">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#home">Home</a>
                    </li>
                    <li>
                        <a href="#mig_flow">Migration Flow</a>
                    </li>
                    <li>
                        <a href="#mig_stock">International Migrant Stock</a>
                    </li>
                    <li>
                        <a href="#causal">Refugees and Migrants Deaths</a>
                    </li>
                    <li>
                        <a href="#conclusion">Conclusion</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>


    <!-- Header -->
    <a id="home"></a>
    <div class="intro-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="intro-message">
                        <h1>Learn Migration!</h1>
                        <h3> Reveal the truth about migration</h3>

                        </h3>

                        <ul class="list-inline intro-social-buttons">
                            <hr class="intro-divider">
                            <li>
                                <button id="learnMoreMain" type="button" class="btn btn-danger btn-md w-200" style="background:#CC0000;border-color:#CC0000;">
                                    <h4>Learn more</h4>
                                </button>
                            </li>

                        </ul>
                    </div>


                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.intro-header -->


    <a id="Abstract"></a>

    <div class="push-20">
        <div class="container">
            <div class="row">
                <hr class="solid">
                <h2 class="section-heading centerText">Abstract</h2>
                <h2>
                    <div>
                        <small>Debates on migration often appear in the media. They usually focus on a single event or a specific group of people and aim at eliciting emotional reactions from the reader. In addition, many of available resources have a very narrow scope as well (e.g. limited to certain region of the world, having shorter time frame etc). It is, therefore, hard to gain comprehensive insight into the complex topic of migration and to build an objective idea about migration as a global phenomenon.</small>
                        </br>
                        </br>
                        <small>A recent such example is the European refugee crisis. Our attention was focused on this particular group of people migrating in the European Union from across the Mediterranean Sea or through Southeast Europe. While the media often presented this as a local one-off occurrence, the reality is way more constant and widespread. While this is a more specific example, it still is a big part of global migration.</small>
                        </br>
                        </br>
                        <small>From a global perspective, our visualizations present the migration flow between any two countries averaged over 5 years by addressing the biased information issue on the news about the global migration. So the next time someone claims that there are too many immigrants from this particular country to that particular one, you have a mean to approve or disprove the claim. Besides, you can have an overview of what are the countries that have the highest (and lowest) numbers of immigrants overall and with respect to their total populations. Furthermore, it presents, comparatively, countries' development levels and income levels. We also wanted to help analyse some more specific subtopics of migration. So, we provided intuitive ways of exploring age and gender distribution across international migrant stock, as well as common reasons and locations for the death of migrants and refugees along the main migration routes, hoping to help reveal any common patterns.</small>
                        </br>
                        </br>

                </h2>
            </div>
        </div>
    </div>

    </div>

    <a id="mig_flow"></a>
    <div class="content-section-a" class="push-20">
        <div class="container">
            <div class="row">
                <hr class="solid">
                <h2 class="section-heading">World Migration on the Map
                    </br>
                    <small>Let's start the journey to <i>revealing the truth about migration</i> with a more global approach by looking at the <i>world migration on the map</i>! <b>Migration Flows</b> refer to the number of migrants entering or leaving a given country during a given period of time. The flow map below has been built using data aggregated over a 5-year intervals. The timeline below identifies the starting year of those 5-year intervals (i.e. selecting year 1990 will visualize the data corresponding to the 1990-1995 period). It is now time to discover the various functionalities of the migration map that we offer.</small>
                    </br>
                    </br>
                    <small>On the top right of the map, you can choose the map type as you wish. For Migration Flows map type you are able to filter what data to be shown on the map via the panel above the map - you can change the country, select gender and flow type, toggle flow data normalization (e.g. divide migration flow number by the selected country's population), and slide over different time periods. Clicking on a country on the map allows for a more interactive way of making a selection. When any of the variables is changed, the map is re-colored to reflect the comparative migration flow numbers for the given set of filter selections. Furthermore, hovering over a country provides information about its population and relative numbers of migration inflow/outflow for the given gender and year selected. The other two map types available display the <i>Development Level</i> and <i>Income Level</i>, respectively, of each country. Underneath the map is located a color legend for each of the selected map types, giving a clear mapping between the data visualized and the coloring of the map. </small>
                    </br>
                </h2>
            </div>
        </div>
    </div>
    <!--UN MAP STARTED-->
    <div class="push-20 h-100">
        <div class="container h-100">
            <!-- <div id="world-map" class="h-100"> -->
            <div class="row h-100">
                <div class="row">
                    <div class="col-xs-4 col-md-4">
                        <div id="world_map_countries" class="form-group">
                            <label for="world_map_countries" class="col-form-label">Select Countries</label>
                        </div>
                    </div>
                    <div class="col-xs-2 col-md-2">
                        <div id="world_map_gender" class="form-group">
                            <label for="world_map_gender" class="col-form-label">Select Gender</label>
                        </div>
                        <div>
                            <input type="radio" class="gender_cb" id="male_checkbox" value="male" name="gender_cb"> Male
                            <input type="radio" class="gender_cb" id="female_checkbox" value="female" name="gender_cb"> Female
                            <input type="radio" class="gender_cb" id="both_genders_checkbox" value="both" name="gender_cb" checked="true"> Both
                        </div>
                    </div>
                    <div class="col-xs-2 col-md-2">
                        <div id="world_map_flow" class="form-group">
                            <label for="world_map_flow" class="col-form-label">Select Flow</label>
                        </div>
                        <input type="radio" class="flow_cb" id="inflow_cb" value="inflow" name="flow_cb"> Inflow
                        <input type="radio" class="flow_cb" id="outflow_cb" value="outflow" name="flow_cb" checked="true"> Outflow
                    </div>
                    <div class="col-xs-2 col-md-2">
                        <div id="world_map_normalization" class="form-group">
                            <label for="world_map_normalization" class="col-form-label">Normalize Flow</label>
                        </div>
                        <input type="radio" class="normalize_flow" id="yes_normalize" name="normalize_cb"> Yes
                        <input type="radio" class="normalize_flow" id="no_normalize" name="normalize_cb" checked="true"> No
                    </div>
                    <div class="col-xs-2 col-md-2">
                        <div id="world_map_type" class="form-group">
                            <label for="world_map_type" class="col-form-label">Map Type</label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div id="world_map_slider">
                        <!-- <div id="world_map_slider" class="col-sm-8"> -->
                    </div>
                </div>
                <div class="row" id="canvas">
                    <div class="col-md-12 col-xs-12">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <!-- <div id="migration_stock_chart" class="migration_stock_chart"></div> -->
                                <div id="flow-world-map" class="flow-world-map">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="world_map_legend" class="row">
                </div>
                <!-- <div id="world-map_div" class="h-100"> -->
            </div>
        </div>
    </div>
    <!--UN MAP END-->
    <div class="push-20">
        <div class="container">
            <div class="row">
            </div>
        </div>
    </div>
    <div class="push-20">
        <div class="container">
            <div class="row">
            </div>
        </div>
    </div>

    <a id="mig_stock"></a>
    <div class="content-section-b push-20">
        <p style="text-align:center; border:1px "><img src="https://media.giphy.com/media/3o6fJdCCJK9q7CSpjO/giphy.gif" height="228px" max-width="100%"><img src="https://media.giphy.com/media/UQZuaq98HPDW/giphy.gif" max-width="100%"> </p>

        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-sm-12">
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">International Migrant Stock
                        </br>
                        <small>The terms <b>Migrant Stock</b> and <b>Migration Flow</b> relate to different groups of people. <b>International Migrant Stock</b> is the number of people born in a country other than that in which they live. It also includes refugees. </small>
                        </br>
                        </br>
                        <small>To help you get an insight into the international migrant stock numbers, you can explore the two-sided bar chart below. Choose a country from the dropdown list below and play with the year slider! You are welcome to discover more information by hovering over our bar chart. Hovering over the bar for a specific age group and gender, You will see the change over the 5-year period for the same age group/gender pair, the number of international migrant stock, and what portion of the given gender does the selected age group correspond to for the specified time period. Last but not least, do not freak out when you see <i>No Previous Data</i>, you have chosen the first data point time-wise.</small>
                    </h2>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-4 col-md-4">
                    <div id="countries_bar_chart" class="form-group">
                        <label for="countries_bar_chart" class="col-form-label">Select Destination Country</label>
                    </div>
                </div>
                <div class="h-100">
                    <div id="migration_stock_slider" class="form-group">
                    </div>
                </div>
                <div class="col-xs-6 col-md-6"></div>
            </div>
            <div class="row" id="canvas">
                <div class="col-md-12 col-xs-12">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div id="migration_stock_chart" class="migration_stock_chart"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="push-20">
        <div class="container">
            <div class="row">
            </div>
        </div>
    </div>

    <p style="text-align:center; border:1px "><img src="https://media.giphy.com/media/aWJWcApHm5maA/giphy.gif" max-width="100%"> </p>

    <a id="causal"></a>
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-md-12">
                <hr class="section-heading-spacer">
                <div class="clearfix"></div>
                <div id="title" class="page-header">
                    <h2>Refugees and Migrants Deaths
                        </br>
                        <small>The Routes Taken by Refugees and Migrants and The Causes of Death Events</small>
                        </br>
                        </br>
                        <small>As from the recent Syrian Refugee crisis, it is evident that migration can be mortal. The survival ratio may depend on many different factors, but there still are common patterns to be analysed. Do you want to learn which routes lead to more deaths and which routes tend to be more secure? Check our Sankey Diagram below by simply selecting a migration route and an event year from the relevant dropdown list. You will discover how many deaths or missing people cases occurred for the selected year, as well as the exact location along the chosen route where they took place! If taking a safer route is not an option, it might be crucial for people to be aware of the biggest dangers along the path they have taken, which is another piece of information our diagram reveals.</small>
                    </h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-4 col-md-4">
                <div id="routes" class="form-group">
                    <label for="routes" class="col-form-label">Migration Route </label>
                </div>
            </div>
            <div class="col-xs-2 col-md-2">
                <div id="years" class="form-group">
                    <label for="years" class="col-form-label">Event Year </label>
                </div>
            </div>
            <div class="col-xs-6 col-md-6"></div>
        </div>
        <div class="row" id="canvas">
            <div class="col-md-12 col-xs-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div id="flow" class=""></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-md-12" id="source">
                <footnote></footnote>
            </div>
        </div>
    </div>

    </br>
    </br>
    </br>
    <a id="conclusion"></a>
    <div class="content-section-f" class="push-20">
        <div class="container">
            <div class="row">
                <hr class="solid">
                <h2 class="section-heading centerText">What We Think...</h2>
                </br>
                <p style="text-align:center; border:1px "><img src="https://media.giphy.com/media/26ufiO0CAJ47bkVqw/giphy.gif" max-width="100%"> <img src="https://media.giphy.com/media/l2SpOdDZJZLYcxUM8/giphy.gif" max-width="100%"> </p>
                <p style="text-align:center; border:1px "><img src="https://media.giphy.com/media/McrlEfKYpf6UnIIOtH/giphy.gif" max-width="100%"> </p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" />
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
    <footer id="footer" class="color color-secondary short">
        <div class="container">
            <div class="row">
                <div class="col-md-12 center">
                    <ul class="social-icons mb-md">
                        <li class="social-icons-fa-github"><a href="https://github.com/com-480-data-visualization/com-480-project-vizkhalifa/" target="_blank" title="GitHub"><i class="fa fa-github" style="font-size:24px"></i></a>
                        </li>
                        <li class="social-icons-fa-github"><a href="https://youtu.be/V6MHrIab9Cs" target="_blank" title="GitHub"><i class="fa fa-youtube-play" style="font-size:24px"></i></a>
                        </li>
                    </ul>
                </div>
                <div class="container">
                    <p class="copyright text-muted small" style="text-align:center;">&copy; 2020, Made by <a href="mailto:jonathan.donz@epfl.ch">Jonathan Doenz</a>, <a href="mailto:asli.yorusun@epfl.ch">Asli Yörüsün</a> and <a href="mailto:aleksandar.hrusanov@epfl.ch">Aleksandar Hrusanov</a></p>
                </div>
            </div>
        </div>
    </footer>
    <!-- import scripts -->



    <!-- d3 version 4 -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script>
        d3version4 = d3
    </script>

    <!-- d3 scales import -->
    <script src="https://d3js.org/d3-array.v2.min.js"></script>
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-format.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-time.v1.min.js"></script>
    <script src="https://d3js.org/d3-time-format.v2.min.js"></script>
    <script src="https://d3js.org/d3-scale.v3.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

    <!-- D3 -->
    <script charset="utf-8" src="https://d3js.org/d3.v3.min.js" type="text/javascript"></script>
    <!-- Crossfilter -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js" type="text/javascript"></script>
    <!-- DC.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.min.js" type="text/javascript"></script>
    <!-- Colorbrewer -->
    <script src="https://bl.ocks.org/mbostock/raw/5577023/colorbrewer.min.js" type="text/javascript"></script>

    <!-- enable fancy world map projections -->
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>

    <!-- import topojson -->
    <script src="https://d3js.org/topojson.v2.min.js"></script>
    <script src="https://unpkg.com/topojson-client@3"></script>

    <!-- import d3-queue for queuing imports -->
    <script src="https://d3js.org/d3-queue.v3.min.js"></script>

    <!-- display world map script -->
    <script src="./scripts/display_world_map.js"></script>
    <script src="./scripts/filter_panel.js"></script>
    <script src="./scripts/migration_stock_chart.js"></script>

    <script src="./scripts/sankey_filter.js" type="text/javascript"></script>
    <script src="./scripts/sankey_helper.js" type="text/javascript"></script>

    <script src="./scripts/helpers.js" type="text/javascript"></script>
    <script src="./scripts/constants.js" type="text/javascript"></script>

    <script src="./scripts/slider.js" type="text/javascript"></script>

    <!-- auto-refresh browser page when saving saving code -->
    <!-- <script type="text/javascript" src="http://livejs.com/live.js"></script> -->

</body>

</html>
